# Workshop Cleanup

このページでは、前のモジュールで作成されたリソースをクリーンアップする方法について説明します。

## Resource Cleanup Instructions

### 1. Module 4 Cleanup

モジュール4で作成したREST APIを削除します。Amazon API Gateway ConsoleでAPIを選択すると、**Actions**ドロップダウンに**Delete API**オプションがあります。

<details>
<summary><strong>ステップバイステップ手順 (詳細を展開)</strong></summary><p>

1. AWS マネージメントコンソールで **サービス** から ネットワーキング ＆ コンテンツ配信の下にある **API Gateway** を選択します。

1. モジュール4で作成したAPIを選択します。

1. **アクション** ドロップダウンを展開し、**APIの削除** を選択します。

1. API名の入力を促されるので、API名を入力してから**APIの削除** を選択します。

</p></details>


### 2. Module 3 Cleanup

モジュール3で作成したAWSLambda 関数、IAMロール、Amazon DynamoDBテーブルを削除します。

<details>
<summary><strong>ステップバイステップ手順 (詳細を展開)</strong></summary><p>

#### Lambda 関数

1. AWS マネージメントコンソールで **サービス** から コンピューティングの下にある **Lambda** を選択します。

1. モジュール3で作成した `RequestUnicorn` 関数を選択します。

1. **アクション** ドロップダウンから, **関数の削除** を選択します。

1. 確認を促されるので**削除**を選択します。

#### IAM Role

1. AWS マネージメントコンソールで **サービス** から セキュリティ、 アイデンティティ、 コンプライアンスの下にある **IAM** を選択します。

1. ナビゲーションメニューから**ロール**を選択します。

1. 検索ボックスに `WildRydesLambda` を入力します。

1. モジュール3で作成したロールを選択します。

1. **ロールの削除**を選択します。

1. 確認を促されるので **はい、削除します** を選択します。

#### DynamoDB Table

1. AWS マネージメントコンソールで **サービス** から データベースの下にある **DynamoDB** を選択します。

1. ナビゲーションメニューから **テーブル** を選択します。

1. モジュール3で作成した **Rides** テーブルを選択します。

1. **テーブルの削除** を選択します。

1. **このテーブルに対応するすべての CloudWatch アラームを削除します** を **チェックしたまま** で **削除** を押します。

</p></details>

### 3. Module 2 Cleanup

提供されたAWS CloudFormationテンプレートを使用してモジュール2を完成させた場合は、単にAWS CloudFormation Consoleを使用してスタックを削除してください。それ以外の場合は、モジュール2で作成したAmazon Cognitoユーザープールを削除します。

<details>
<summary><strong>ステップバイステップ手順 (詳細を展開)</strong></summary><p>

1. AWS マネージメントコンソールで **サービス** から セキュリティ、 アイデンティティ、 コンプライアンスの下にある **Cognito** を選択します。

1. **ユーザープールの管理**を選択します。

1. モジュール２で作成したユーザープール **WildRydes** を選択します。

1. ページの右上の**プールの削除** を選択します。

1. 確認を促されるので `delete`と入力し、**プールの削除** を選択します。

</p></details>

### 4. Module 1 Cleanup

提供されたAWS CloudFormationテンプレートを使用してモジュール1を完成させた場合は、単にAWS CloudFormation Consoleを使用してスタックを削除してください。それ以外の場合は、モジュール1で作成したAmazon S3バケットを削除します。

<details>
<summary><strong>ステップバイステップ手順 (詳細を展開)</strong></summary><p>

1. AWS マネージメントコンソールで **サービス** から ストレージの下にある **S3** を選択します。

1. モジュール１で作成したバケットを選択します。

1. **バケットを削除する** を選択します。

1. 確認を促されるので、バケット名を入力し、**確認**を押す。

</p></details>


### 5. CloudWatch Logs

AWS Lambdaは、Amazon CloudWatchログに関数ごとに新しいロググループを自動的に作成し、関数が呼び出されるとログを書き込みます。 **RequestUnicorn**機能のロググループを削除する必要があります。また、CloudFormationスタックを起動した場合、それらのスタックにカスタムリソースに関連付けられているロググループが存在する可能性があります。

<details>
<summary><strong>ステップバイステップ手順 (詳細を展開)</strong></summary><p>

1. AWS マネージメントコンソールで **サービス** から 管理ツールの下にある **CloudWatch** を選択します。

1. ナビゲーションメニューから**ログ**を選択します。

1. **/aws/lambda/RequestUnicorn**ロググループを選択します。あなたのアカウントにロググループがたくさんある場合、 `/aws/lambda/RequestUnicorn`を**フィルタ**テキストボックスに入力すれば、簡単にロググループを見つけることができます。

1. **アクション** ドロップダウンから**ロググループの削除** を選択します。

1. 確認を促されるので **はい、削除します**を選択します。

1. モジュールを完成させるためにCloudFormationテンプレートを起動した場合は、 `/ aws / lambda / wildrydes-webapp`で始まるロググループに対して、ステップ3〜5を繰り返します。

</p></details>
